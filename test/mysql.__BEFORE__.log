in:
  type: file
  path_prefix: test.jsonl
  parser:
    type: jsonl
    columns:
    - {name: test_boolean, type: boolean}
    - {name: test_long, type: long}
    - {name: test_double, type: double}
    - {name: test_string, type: string}
    - {name: test_timestamp, type: timestamp}
    - {name: test_json, type: json}
    - {name: test_json_text, type: json}
    - {name: test_json_string, type: json}
    - {name: test_json_nstring, type: json}
out:
  type: mysql
  mode: replace
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  schema: 
  table: test_table
  column_options:
    test_timestamp: {type: DATETIME}
    test_json_text: {type: TEXT}
    test_json_string: {type: 'TEXT', value_type: string}
    test_json_nstring: {type: 'TEXT', value_type: nstring}
  driver_path: null
  create_table_option: CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci
  options: {characterEncoding: utf8}
0000-00-00 00:00:00.000 +0000: Embulk v0.9.26
0000-00-00 00:00:00.000 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
0000-00-00 00:00:00.000 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
0000-00-00 00:00:00.000 +0000 [INFO] (main): Started Embulk v0.9.26
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-mysql (0.10.5)
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loaded plugin embulk-parser-jsonl (0.2.1)
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Listing local files at directory '.' filtering filename by prefix 'test.jsonl'
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): "follow_symlinks" is set false. Note that symbolic links to directories are skipped.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loading files [test.jsonl]
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): JDBC Driver = /home/ubuntu/.embulk/lib/gems/gems/embulk-output-mysql-0.10.5-java/default_jdbc_driver/mysql-connector-java-5.1.44.jar
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Using JDBC Driver mysql-connector-java-5.1.44 ( Revision: b3cda4f864902ffdde495b9df93937c3e20009be )
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): This plugin will update MySQL Connector/J version in the near future release.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): It has some incompatibility changes.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): For example, the 5.1.35 introduced `noTimezoneConversionForDateType` and `cacheDefaultTimezone` options.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): Please read a document and make sure configuration carefully before updating the plugin.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): The plugin will set `useLegacyDatetimeCode=false` by default in future.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Using replace mode
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): SQL: CREATE TABLE `test_table_0000000000000000_embulk` (`test_boolean` BOOLEAN, `test_long` BIGINT, `test_double` DOUBLE PRECISION, `test_string` TEXT, `test_timestamp` DATETIME, `test_json` TEXT, `test_json_text` TEXT, `test_json_string` TEXT, `test_json_nstring` TEXT) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): > 0.00 seconds
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Prepared SQL: INSERT INTO `test_table_0000000000000000_embulk` (`test_boolean`, `test_long`, `test_double`, `test_string`, `test_timestamp`, `test_json`, `test_json_text`, `test_json_string`, `test_json_nstring`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Loading 2 rows
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): > 0.00 seconds (loaded 2 rows in total)
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=2700000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): SQL: RENAME TABLE `test_table_0000000000000000_embulk` TO `0000000000000000_embulk_swap_tmp`, `test_table` TO `test_table_0000000000000000_embulk`, `0000000000000000_embulk_swap_tmp` TO `test_table`
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): > 0.00 seconds
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS `test_table_0000000000000000_embulk`
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): > 0.00 seconds
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, rewriteBatchedStatements=true, useSSL=false, user=test_user, tcpKeepAlive=true, password=***, connectTimeout=300000}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): TransactionIsolation=repeatable_read
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS `test_table_0000000000000000_embulk`
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): > 0.00 seconds
0000-00-00 00:00:00.000 +0000 [INFO] (main): Committed.
0000-00-00 00:00:00.000 +0000 [INFO] (main): Next config diff: {"in":{"last_path":"test.jsonl"},"out":{}}
in:
  type: mysql
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  column_options:
    test_timestamp: {type: string, timestamp_format: '%Y-%m-%d %H:%M:%S.%6N %z'}
    test_json: {type: json}
    test_json_text: {type: json}
    test_json_string: {type: json}
    test_json_nstring: {type: json}
  query: SELECT * FROM `test_table`
  options: {characterEncoding: utf8}
out:
  type: command
  command: 'cat -'
  formatter:
    type: jsonl
0000-00-00 00:00:00.000 +0000: Embulk v0.9.26
0000-00-00 00:00:00.000 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
0000-00-00 00:00:00.000 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
0000-00-00 00:00:00.000 +0000 [INFO] (main): Started Embulk v0.9.26
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loaded plugin embulk-input-mysql (0.13.2)
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-command (0.1.4)
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): The MySQL JDBC driver for the class "com.mysql.jdbc.Driver" is expected to be found in "default_jdbc_driver" at /home/ubuntu/.embulk/lib/gems/gems/embulk-input-mysql-0.13.2-java/default_jdbc_driver/mysql-connector-java-5.1.44.jar.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Fetch size is 10000. Using server-side prepared statement.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, useSSL=false, user=test_user, useLegacyDatetimeCode=false, tcpKeepAlive=true, useCursorFetch=true, connectTimeout=300000, password=***, zeroDateTimeBehavior=convertToNull}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Using JDBC Driver mysql-connector-java-5.1.44 ( Revision: b3cda4f864902ffdde495b9df93937c3e20009be )
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): embulk-input-mysql 0.9.0 upgraded the bundled MySQL Connector/J version from 5.1.34 to 5.1.44 .
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): And set useLegacyDatetimeCode=false by default in order to get correct datetime value when the server timezone and the client timezone are different.
0000-00-00 00:00:00.000 +0000 [WARN] (0001:transaction): Set useLegacyDatetimeCode=true if you need to get datetime value same as older embulk-input-mysql.
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): Loaded plugin embulk-formatter-jsonl (0.1.4)
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
0000-00-00 00:00:00.000 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Fetch size is 10000. Using server-side prepared statement.
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): Connecting to jdbc:mysql://test_host:3306/test_database options {characterEncoding=utf8, useCompression=true, socketTimeout=1800000, useSSL=false, user=test_user, useLegacyDatetimeCode=false, tcpKeepAlive=true, useCursorFetch=true, connectTimeout=300000, password=***, zeroDateTimeBehavior=convertToNull}
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): SQL: SELECT * FROM `test_table`
0000-00-00 00:00:00.000 +0000 [INFO] (0016:task-0000): > 0.00 seconds
{"test_boolean":true,"test_long":123,"test_double":1.23,"test_string":"あいうえお","test_timestamp":"1999-12-31 23:59:59.000000 +0000","test_json":{"キー":"値"},"test_json_text":{"キー":"値"},"test_json_string":{"キー":"値"},"test_json_nstring":null}
{"test_boolean":false,"test_long":456,"test_double":4.56,"test_string":"かきくけこ","test_timestamp":"2000-01-01 00:00:00.000000 +0000","test_json":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_text":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_string":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_nstring":null}
0000-00-00 00:00:00.000 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
0000-00-00 00:00:00.000 +0000 [INFO] (main): Committed.
0000-00-00 00:00:00.000 +0000 [INFO] (main): Next config diff: {"in":{},"out":{}}
