in:
  type: file
  path_prefix: test.jsonl
  parser:
    type: jsonl
    columns:
    - {name: test_boolean, type: boolean}
    - {name: test_long, type: long}
    - {name: test_double, type: double}
    - {name: test_string, type: string}
    - {name: test_timestamp, type: timestamp}
    - {name: test_json, type: json}
    - {name: test_json_text, type: json}
    - {name: test_json_string, type: json}
    - {name: test_json_nstring, type: json}
out:
  type: redshift
  mode: replace
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  schema: test_schema
  table: test_table
  column_options:
    test_timestamp: {type: TIMESTAMPTZ}
    test_json_text: {type: TEXT}
    test_json_string: {type: 'VARCHAR(65535)', value_type: string}
    test_json_nstring: {type: 'VARCHAR(65535)', value_type: nstring}
  driver_path: null
  aws_access_key_id: ***
  aws_secret_access_key: ***
  s3_bucket: test_s3_bucket
  s3_key_prefix: test_s3_key_prefix
2024-03-29 18:58:28.742 +0000: Embulk v0.9.26
2024-03-29 18:58:29.375 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
2024-03-29 18:58:30.655 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
2024-03-29 18:58:31.172 +0000 [INFO] (main): Started Embulk v0.9.26
2024-03-29 18:58:31.245 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-redshift (0.10.5)
2024-03-29 18:58:31.280 +0000 [INFO] (0001:transaction): Loaded plugin embulk-parser-jsonl (0.2.1)
2024-03-29 18:58:31.290 +0000 [INFO] (0001:transaction): Listing local files at directory '.' filtering filename by prefix 'test.jsonl'
2024-03-29 18:58:31.291 +0000 [INFO] (0001:transaction): "follow_symlinks" is set false. Note that symbolic links to directories are skipped.
2024-03-29 18:58:31.294 +0000 [INFO] (0001:transaction): Loading files [test.jsonl]
2024-03-29 18:58:31.313 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
2024-03-29 18:58:31.332 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:31.337 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:31.389 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:31.395 +0000 [INFO] (0001:transaction): > 0.01 seconds
2024-03-29 18:58:31.403 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-29 18:58:31.404 +0000 [INFO] (0001:transaction): Using JDBC Driver PostgreSQL 9.4 JDBC4.1 (build 1205)
2024-03-29 18:58:31.404 +0000 [INFO] (0001:transaction): Using replace mode
2024-03-29 18:58:31.442 +0000 [INFO] (0001:transaction): SQL: CREATE TABLE "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean" BOOLEAN, "test_long" BIGINT, "test_double" DOUBLE PRECISION, "test_string" VARCHAR(65535), "test_timestamp" TIMESTAMPTZ, "test_json" VARCHAR(65535), "test_json_text" TEXT, "test_json_string" VARCHAR(65535), "test_json_nstring" VARCHAR(65535))
2024-03-29 18:58:31.468 +0000 [INFO] (0001:transaction): > 0.03 seconds
2024-03-29 18:58:31.648 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
2024-03-29 18:58:31.668 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:31.668 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:31.676 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.110 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.132 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.136 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.139 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.140 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.144 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.144 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.145 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.184 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.204 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.208 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.212 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.212 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.214 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.214 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.215 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.253 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.273 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.277 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.280 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.280 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.283 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.283 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.284 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.328 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.354 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.359 +0000 [INFO] (0016:task-0000): > 0.01 seconds
2024-03-29 18:58:32.363 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.363 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.366 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.366 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.367 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.411 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.432 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.436 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.440 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.440 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.442 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.442 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.442 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.476 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.497 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.501 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.505 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.505 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.506 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.506 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.507 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.544 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.563 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.568 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.571 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.571 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.572 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:32.572 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:32.574 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:32.598 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-29 18:58:32.618 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.622 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-29 18:58:32.626 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-29 18:58:32.626 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e8b93ed92_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-29 18:58:32.676 +0000 [INFO] (pool-3-thread-1): Uploading file id test_s3_key_prefix/7e16411a-7b71-4186-b1e6-355c19dc1e96 to S3 (193 bytes 6 rows)
2024-03-29 18:58:32.737 +0000 [INFO] (pool-3-thread-1): Uploaded file test_s3_key_prefix/7e16411a-7b71-4186-b1e6-355c19dc1e96 (0.06 seconds)
2024-03-29 18:58:32.757 +0000 [INFO] (pool-3-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:32.761 +0000 [INFO] (pool-3-thread-2): > 0.00 seconds
2024-03-29 18:58:32.764 +0000 [INFO] (pool-3-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:32.764 +0000 [INFO] (pool-3-thread-2): Running COPY from file test_s3_key_prefix/7e16411a-7b71-4186-b1e6-355c19dc1e96
2024-03-29 18:58:33.079 +0000 [INFO] (pool-3-thread-2): Loaded file test_s3_key_prefix/7e16411a-7b71-4186-b1e6-355c19dc1e96 (0.31 seconds for COPY)
2024-03-29 18:58:33.111 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:33.111 +0000 [INFO] (pool-4-thread-1): Uploading file id test_s3_key_prefix/4fc00699-edbc-412b-9942-bea53357540f to S3 (20 bytes 0 rows)
2024-03-29 18:58:33.139 +0000 [INFO] (pool-4-thread-1): Uploaded file test_s3_key_prefix/4fc00699-edbc-412b-9942-bea53357540f (0.03 seconds)
2024-03-29 18:58:33.157 +0000 [INFO] (pool-4-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:33.162 +0000 [INFO] (pool-4-thread-2): > 0.01 seconds
2024-03-29 18:58:33.165 +0000 [INFO] (pool-4-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:33.165 +0000 [INFO] (pool-4-thread-2): Running COPY from file test_s3_key_prefix/4fc00699-edbc-412b-9942-bea53357540f
2024-03-29 18:58:33.449 +0000 [INFO] (pool-4-thread-2): Loaded file test_s3_key_prefix/4fc00699-edbc-412b-9942-bea53357540f (0.28 seconds for COPY)
2024-03-29 18:58:33.474 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:33.475 +0000 [INFO] (pool-5-thread-1): Uploading file id test_s3_key_prefix/4938fc8d-ce8f-41c6-ab00-55bfe6875d8a to S3 (20 bytes 0 rows)
2024-03-29 18:58:33.508 +0000 [INFO] (pool-5-thread-1): Uploaded file test_s3_key_prefix/4938fc8d-ce8f-41c6-ab00-55bfe6875d8a (0.03 seconds)
2024-03-29 18:58:33.526 +0000 [INFO] (pool-5-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:33.530 +0000 [INFO] (pool-5-thread-2): > 0.00 seconds
2024-03-29 18:58:33.534 +0000 [INFO] (pool-5-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:33.534 +0000 [INFO] (pool-5-thread-2): Running COPY from file test_s3_key_prefix/4938fc8d-ce8f-41c6-ab00-55bfe6875d8a
2024-03-29 18:58:33.814 +0000 [INFO] (pool-5-thread-2): Loaded file test_s3_key_prefix/4938fc8d-ce8f-41c6-ab00-55bfe6875d8a (0.28 seconds for COPY)
2024-03-29 18:58:33.835 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:33.835 +0000 [INFO] (pool-6-thread-1): Uploading file id test_s3_key_prefix/e123bd26-c713-4c0b-917d-6ff7794d5f09 to S3 (20 bytes 0 rows)
2024-03-29 18:58:33.864 +0000 [INFO] (pool-6-thread-1): Uploaded file test_s3_key_prefix/e123bd26-c713-4c0b-917d-6ff7794d5f09 (0.03 seconds)
2024-03-29 18:58:33.882 +0000 [INFO] (pool-6-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:33.887 +0000 [INFO] (pool-6-thread-2): > 0.01 seconds
2024-03-29 18:58:33.890 +0000 [INFO] (pool-6-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:33.890 +0000 [INFO] (pool-6-thread-2): Running COPY from file test_s3_key_prefix/e123bd26-c713-4c0b-917d-6ff7794d5f09
2024-03-29 18:58:34.158 +0000 [INFO] (pool-6-thread-2): Loaded file test_s3_key_prefix/e123bd26-c713-4c0b-917d-6ff7794d5f09 (0.27 seconds for COPY)
2024-03-29 18:58:34.184 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:34.184 +0000 [INFO] (pool-7-thread-1): Uploading file id test_s3_key_prefix/b81a2e36-a350-4a23-98e2-614984acac20 to S3 (20 bytes 0 rows)
2024-03-29 18:58:34.214 +0000 [INFO] (pool-7-thread-1): Uploaded file test_s3_key_prefix/b81a2e36-a350-4a23-98e2-614984acac20 (0.03 seconds)
2024-03-29 18:58:34.234 +0000 [INFO] (pool-7-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:34.238 +0000 [INFO] (pool-7-thread-2): > 0.00 seconds
2024-03-29 18:58:34.242 +0000 [INFO] (pool-7-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:34.242 +0000 [INFO] (pool-7-thread-2): Running COPY from file test_s3_key_prefix/b81a2e36-a350-4a23-98e2-614984acac20
2024-03-29 18:58:34.558 +0000 [INFO] (pool-7-thread-2): Loaded file test_s3_key_prefix/b81a2e36-a350-4a23-98e2-614984acac20 (0.32 seconds for COPY)
2024-03-29 18:58:34.596 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:34.597 +0000 [INFO] (pool-8-thread-1): Uploading file id test_s3_key_prefix/b914ed84-6c62-4793-bc51-0508c003718b to S3 (20 bytes 0 rows)
2024-03-29 18:58:34.626 +0000 [INFO] (pool-8-thread-1): Uploaded file test_s3_key_prefix/b914ed84-6c62-4793-bc51-0508c003718b (0.03 seconds)
2024-03-29 18:58:34.644 +0000 [INFO] (pool-8-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:34.649 +0000 [INFO] (pool-8-thread-2): > 0.00 seconds
2024-03-29 18:58:34.652 +0000 [INFO] (pool-8-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:34.652 +0000 [INFO] (pool-8-thread-2): Running COPY from file test_s3_key_prefix/b914ed84-6c62-4793-bc51-0508c003718b
2024-03-29 18:58:34.957 +0000 [INFO] (pool-8-thread-2): Loaded file test_s3_key_prefix/b914ed84-6c62-4793-bc51-0508c003718b (0.31 seconds for COPY)
2024-03-29 18:58:34.981 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:34.981 +0000 [INFO] (pool-9-thread-1): Uploading file id test_s3_key_prefix/e7ed2d64-b3bc-4a5d-9f50-4040c5a04bd8 to S3 (20 bytes 0 rows)
2024-03-29 18:58:35.014 +0000 [INFO] (pool-9-thread-1): Uploaded file test_s3_key_prefix/e7ed2d64-b3bc-4a5d-9f50-4040c5a04bd8 (0.03 seconds)
2024-03-29 18:58:35.033 +0000 [INFO] (pool-9-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:35.038 +0000 [INFO] (pool-9-thread-2): > 0.00 seconds
2024-03-29 18:58:35.042 +0000 [INFO] (pool-9-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:35.042 +0000 [INFO] (pool-9-thread-2): Running COPY from file test_s3_key_prefix/e7ed2d64-b3bc-4a5d-9f50-4040c5a04bd8
2024-03-29 18:58:35.338 +0000 [INFO] (pool-9-thread-2): Loaded file test_s3_key_prefix/e7ed2d64-b3bc-4a5d-9f50-4040c5a04bd8 (0.30 seconds for COPY)
2024-03-29 18:58:35.359 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:35.359 +0000 [INFO] (pool-10-thread-1): Uploading file id test_s3_key_prefix/809301c7-e25f-4abb-a915-6578687acda5 to S3 (20 bytes 0 rows)
2024-03-29 18:58:35.386 +0000 [INFO] (pool-10-thread-1): Uploaded file test_s3_key_prefix/809301c7-e25f-4abb-a915-6578687acda5 (0.03 seconds)
2024-03-29 18:58:35.404 +0000 [INFO] (pool-10-thread-2): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:35.408 +0000 [INFO] (pool-10-thread-2): > 0.00 seconds
2024-03-29 18:58:35.412 +0000 [INFO] (pool-10-thread-2): TransactionIsolation=serializable
2024-03-29 18:58:35.412 +0000 [INFO] (pool-10-thread-2): Running COPY from file test_s3_key_prefix/809301c7-e25f-4abb-a915-6578687acda5
2024-03-29 18:58:35.698 +0000 [INFO] (pool-10-thread-2): Loaded file test_s3_key_prefix/809301c7-e25f-4abb-a915-6578687acda5 (0.29 seconds for COPY)
2024-03-29 18:58:35.723 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-29 18:58:35.731 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
2024-03-29 18:58:35.731 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=28800}
2024-03-29 18:58:35.813 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:35.817 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-29 18:58:35.821 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-29 18:58:35.821 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS "test_schema"."test_table"
2024-03-29 18:58:35.828 +0000 [INFO] (0001:transaction): > 0.01 seconds
2024-03-29 18:58:35.829 +0000 [INFO] (0001:transaction): SQL: ALTER TABLE "test_schema"."test_table_0000018e8b93ed92_embulk" RENAME TO "test_table"
2024-03-29 18:58:35.832 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-29 18:58:35.874 +0000 [WARN] (0001:transaction): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:35.874 +0000 [WARN] (0001:transaction): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:35.875 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:35.895 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:35.899 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-29 18:58:35.903 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-29 18:58:35.903 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS "test_schema"."test_table_0000018e8b93ed92_embulk"
2024-03-29 18:58:35.949 +0000 [INFO] (0001:transaction): > 0.05 seconds
2024-03-29 18:58:35.950 +0000 [INFO] (main): Committed.
2024-03-29 18:58:35.950 +0000 [INFO] (main): Next config diff: {"in":{"last_path":"test.jsonl"},"out":{}}
in:
  type: redshift
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  column_options:
    test_timestamp: {type: string, timestamp_format: '%Y-%m-%d %H:%M:%S.%6N %z'}
    test_json: {type: json}
    test_json_text: {type: json}
    test_json_string: {type: json}
    test_json_nstring: {type: json}
  query: SELECT * FROM "test_schema"."test_table"
  fetch_rows: 1000
out:
  type: command
  command: 'cat -'
  formatter:
    type: jsonl
2024-03-29 18:58:36.193 +0000: Embulk v0.9.26
2024-03-29 18:58:36.816 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
2024-03-29 18:58:38.123 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
2024-03-29 18:58:38.618 +0000 [INFO] (main): Started Embulk v0.9.26
2024-03-29 18:58:38.684 +0000 [INFO] (0001:transaction): Loaded plugin embulk-input-redshift (0.13.2)
2024-03-29 18:58:38.713 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-command (0.1.4)
2024-03-29 18:58:38.738 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:38.741 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:38.783 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:38.793 +0000 [INFO] (0001:transaction): Using JDBC Driver PostgreSQL 9.4 JDBC4.1 (build 1205)
2024-03-29 18:58:38.962 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
2024-03-29 18:58:38.996 +0000 [INFO] (0001:transaction): Loaded plugin embulk-formatter-jsonl (0.1.4)
2024-03-29 18:58:39.055 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
2024-03-29 18:58:39.064 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.076 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.079 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.083 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.086 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.089 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.094 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.098 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-29 18:58:39.104 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-29 18:58:39.104 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-29 18:58:39.127 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-29 18:58:39.147 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-29 18:58:39.152 +0000 [INFO] (0016:task-0000): SQL: DECLARE cur NO SCROLL CURSOR FOR SELECT * FROM "test_schema"."test_table"
2024-03-29 18:58:39.162 +0000 [INFO] (0016:task-0000): SQL: FETCH FORWARD 1000 FROM cur
2024-03-29 18:58:39.178 +0000 [INFO] (0016:task-0000): > 0.02 seconds
2024-03-29 18:58:39.188 +0000 [INFO] (0016:task-0000): SQL: FETCH FORWARD 1000 FROM cur
2024-03-29 18:58:39.192 +0000 [INFO] (0016:task-0000): > 0.00 seconds
{"test_boolean":true,"test_long":123,"test_double":1.23,"test_string":"あいうえお","test_timestamp":"1999-12-31 23:59:59.000000 +0000","test_json":{"キー":"値"},"test_json_text":{"キー":"値"},"test_json_string":{"キー":"値"},"test_json_nstring":{"キー":"値"}}
{"test_boolean":false,"test_long":456,"test_double":4.56,"test_string":"かきくけこ","test_timestamp":"2000-01-01 00:00:00.000000 +0000","test_json":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_text":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_string":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_nstring":[{"キー1":"値1"},{"キー2":"値2"}]}
{"test_boolean":null,"test_long":null,"test_double":null,"test_string":null,"test_timestamp":null,"test_json":null,"test_json_text":null,"test_json_string":null,"test_json_nstring":null}
{"test_boolean":null,"test_long":null,"test_double":null,"test_string":null,"test_timestamp":null,"test_json":12345,"test_json_text":12345,"test_json_string":12345,"test_json_nstring":12345}
{"test_boolean":null,"test_long":null,"test_double":null,"test_string":null,"test_timestamp":null,"test_json":123.45,"test_json_text":123.45,"test_json_string":123.45,"test_json_nstring":123.45}
{"test_boolean":null,"test_long":null,"test_double":null,"test_string":null,"test_timestamp":null,"test_json":"hoge","test_json_text":"hoge","test_json_string":"hoge","test_json_nstring":"hoge"}
2024-03-29 18:58:39.233 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
2024-03-29 18:58:39.237 +0000 [INFO] (main): Committed.
2024-03-29 18:58:39.237 +0000 [INFO] (main): Next config diff: {"in":{},"out":{}}
