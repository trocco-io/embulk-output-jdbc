in:
  type: file
  path_prefix: test.jsonl
  parser:
    type: jsonl
    columns:
    - {name: test_boolean, type: boolean}
    - {name: test_long, type: long}
    - {name: test_double, type: double}
    - {name: test_string, type: string}
    - {name: test_timestamp, type: timestamp}
    - {name: test_json, type: json}
    - {name: test_json_text, type: json}
    - {name: test_json_string, type: json}
    - {name: test_json_nstring, type: json}
out:
  type: redshift
  mode: replace
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  schema: test_schema
  table: test_table
  column_options:
    test_timestamp: {type: TIMESTAMPTZ}
    test_json_text: {type: TEXT}
    test_json_string: {type: 'VARCHAR(65535)', value_type: string}
    test_json_nstring: {type: 'VARCHAR(65535)', value_type: nstring}
  driver_path: null
  aws_access_key_id: ***
  aws_secret_access_key: ***
  s3_bucket: test_s3_bucket
  s3_key_prefix: test_s3_key_prefix
2024-03-25 03:14:22.182 +0000: Embulk v0.9.26
2024-03-25 03:14:22.818 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
2024-03-25 03:14:24.168 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
2024-03-25 03:14:24.697 +0000 [INFO] (main): Started Embulk v0.9.26
2024-03-25 03:14:24.784 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-redshift (0.10.5)
2024-03-25 03:14:24.832 +0000 [INFO] (0001:transaction): Loaded plugin embulk-parser-jsonl (0.2.1)
2024-03-25 03:14:24.845 +0000 [INFO] (0001:transaction): Listing local files at directory '.' filtering filename by prefix 'test.jsonl'
2024-03-25 03:14:24.846 +0000 [INFO] (0001:transaction): "follow_symlinks" is set false. Note that symbolic links to directories are skipped.
2024-03-25 03:14:24.849 +0000 [INFO] (0001:transaction): Loading files [test.jsonl]
2024-03-25 03:14:24.874 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
2024-03-25 03:14:24.897 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:24.903 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:24.954 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:24.959 +0000 [INFO] (0001:transaction): > 0.01 seconds
2024-03-25 03:14:24.968 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-25 03:14:24.968 +0000 [INFO] (0001:transaction): Using JDBC Driver PostgreSQL 9.4 JDBC4.1 (build 1205)
2024-03-25 03:14:24.968 +0000 [INFO] (0001:transaction): Using replace mode
2024-03-25 03:14:25.007 +0000 [INFO] (0001:transaction): SQL: CREATE TABLE "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean" BOOLEAN, "test_long" BIGINT, "test_double" DOUBLE PRECISION, "test_string" VARCHAR(65535), "test_timestamp" TIMESTAMPTZ, "test_json" VARCHAR(65535), "test_json_text" TEXT, "test_json_string" VARCHAR(65535), "test_json_nstring" VARCHAR(65535))
2024-03-25 03:14:25.033 +0000 [INFO] (0001:transaction): > 0.03 seconds
2024-03-25 03:14:25.212 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
2024-03-25 03:14:25.229 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:25.229 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:25.236 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:25.718 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:25.740 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:25.745 +0000 [INFO] (0016:task-0000): > 0.01 seconds
2024-03-25 03:14:25.748 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:25.749 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:25.752 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:25.753 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:25.753 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:25.795 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:25.816 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:25.821 +0000 [INFO] (0016:task-0000): > 0.01 seconds
2024-03-25 03:14:25.824 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:25.824 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:25.826 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:25.826 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:25.827 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:25.873 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:25.893 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:25.897 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-25 03:14:25.900 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:25.900 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:25.902 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:25.902 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:25.903 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:25.950 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:25.969 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:25.973 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-25 03:14:25.977 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:25.977 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:25.979 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:25.979 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:25.979 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:26.047 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:26.068 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.073 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-25 03:14:26.076 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:26.076 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:26.078 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:26.078 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:26.078 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:26.122 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:26.143 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.148 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-25 03:14:26.151 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:26.151 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:26.153 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:26.153 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:26.153 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:26.195 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:26.215 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.220 +0000 [INFO] (0016:task-0000): > 0.01 seconds
2024-03-25 03:14:26.225 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:26.226 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:26.227 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:26.227 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:26.228 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:26.259 +0000 [INFO] (0016:task-0000): S3 region for bucket 'test_s3_bucket' is 'ap-northeast-1'.
2024-03-25 03:14:26.283 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.287 +0000 [INFO] (0016:task-0000): > 0.00 seconds
2024-03-25 03:14:26.291 +0000 [INFO] (0016:task-0000): TransactionIsolation=serializable
2024-03-25 03:14:26.291 +0000 [INFO] (0016:task-0000): Copy SQL: COPY "test_schema"."test_table_0000018e739a226e_embulk" ("test_boolean", "test_long", "test_double", "test_string", "test_timestamp", "test_json", "test_json_text", "test_json_string", "test_json_nstring") ? GZIP DELIMITER '\t' NULL '\\N' ESCAPE TRUNCATECOLUMNS ACCEPTINVCHARS STATUPDATE OFF COMPUPDATE OFF
2024-03-25 03:14:26.339 +0000 [INFO] (pool-3-thread-1): Uploading file id test_s3_key_prefix/abf40dc9-1b4b-4f43-8ff1-ce041a989169 to S3 (162 bytes 2 rows)
2024-03-25 03:14:26.393 +0000 [INFO] (pool-3-thread-1): Uploaded file test_s3_key_prefix/abf40dc9-1b4b-4f43-8ff1-ce041a989169 (0.05 seconds)
2024-03-25 03:14:26.411 +0000 [INFO] (pool-3-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.416 +0000 [INFO] (pool-3-thread-2): > 0.00 seconds
2024-03-25 03:14:26.419 +0000 [INFO] (pool-3-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:26.419 +0000 [INFO] (pool-3-thread-2): Running COPY from file test_s3_key_prefix/abf40dc9-1b4b-4f43-8ff1-ce041a989169
2024-03-25 03:14:26.719 +0000 [INFO] (pool-3-thread-2): Loaded file test_s3_key_prefix/abf40dc9-1b4b-4f43-8ff1-ce041a989169 (0.30 seconds for COPY)
2024-03-25 03:14:26.748 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:26.749 +0000 [INFO] (pool-4-thread-1): Uploading file id test_s3_key_prefix/1b70c17b-0f2d-4151-af9a-fd73adf132a3 to S3 (20 bytes 0 rows)
2024-03-25 03:14:26.782 +0000 [INFO] (pool-4-thread-1): Uploaded file test_s3_key_prefix/1b70c17b-0f2d-4151-af9a-fd73adf132a3 (0.03 seconds)
2024-03-25 03:14:26.799 +0000 [INFO] (pool-4-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:26.804 +0000 [INFO] (pool-4-thread-2): > 0.01 seconds
2024-03-25 03:14:26.807 +0000 [INFO] (pool-4-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:26.807 +0000 [INFO] (pool-4-thread-2): Running COPY from file test_s3_key_prefix/1b70c17b-0f2d-4151-af9a-fd73adf132a3
2024-03-25 03:14:27.077 +0000 [INFO] (pool-4-thread-2): Loaded file test_s3_key_prefix/1b70c17b-0f2d-4151-af9a-fd73adf132a3 (0.27 seconds for COPY)
2024-03-25 03:14:27.100 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:27.101 +0000 [INFO] (pool-5-thread-1): Uploading file id test_s3_key_prefix/1e5dd4c3-ccf3-4e88-8383-7f9684184daf to S3 (20 bytes 0 rows)
2024-03-25 03:14:27.130 +0000 [INFO] (pool-5-thread-1): Uploaded file test_s3_key_prefix/1e5dd4c3-ccf3-4e88-8383-7f9684184daf (0.03 seconds)
2024-03-25 03:14:27.153 +0000 [INFO] (pool-5-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:27.159 +0000 [INFO] (pool-5-thread-2): > 0.01 seconds
2024-03-25 03:14:27.163 +0000 [INFO] (pool-5-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:27.163 +0000 [INFO] (pool-5-thread-2): Running COPY from file test_s3_key_prefix/1e5dd4c3-ccf3-4e88-8383-7f9684184daf
2024-03-25 03:14:27.493 +0000 [INFO] (pool-5-thread-2): Loaded file test_s3_key_prefix/1e5dd4c3-ccf3-4e88-8383-7f9684184daf (0.33 seconds for COPY)
2024-03-25 03:14:27.518 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:27.518 +0000 [INFO] (pool-6-thread-1): Uploading file id test_s3_key_prefix/951bc072-6e95-4098-a5e3-897db00871ec to S3 (20 bytes 0 rows)
2024-03-25 03:14:27.547 +0000 [INFO] (pool-6-thread-1): Uploaded file test_s3_key_prefix/951bc072-6e95-4098-a5e3-897db00871ec (0.03 seconds)
2024-03-25 03:14:27.565 +0000 [INFO] (pool-6-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:27.569 +0000 [INFO] (pool-6-thread-2): > 0.00 seconds
2024-03-25 03:14:27.572 +0000 [INFO] (pool-6-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:27.572 +0000 [INFO] (pool-6-thread-2): Running COPY from file test_s3_key_prefix/951bc072-6e95-4098-a5e3-897db00871ec
2024-03-25 03:14:27.849 +0000 [INFO] (pool-6-thread-2): Loaded file test_s3_key_prefix/951bc072-6e95-4098-a5e3-897db00871ec (0.28 seconds for COPY)
2024-03-25 03:14:27.880 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:27.880 +0000 [INFO] (pool-7-thread-1): Uploading file id test_s3_key_prefix/f1988675-52bc-4da6-befe-474d7ff8712a to S3 (20 bytes 0 rows)
2024-03-25 03:14:27.910 +0000 [INFO] (pool-7-thread-1): Uploaded file test_s3_key_prefix/f1988675-52bc-4da6-befe-474d7ff8712a (0.03 seconds)
2024-03-25 03:14:27.928 +0000 [INFO] (pool-7-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:27.932 +0000 [INFO] (pool-7-thread-2): > 0.00 seconds
2024-03-25 03:14:27.936 +0000 [INFO] (pool-7-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:27.936 +0000 [INFO] (pool-7-thread-2): Running COPY from file test_s3_key_prefix/f1988675-52bc-4da6-befe-474d7ff8712a
2024-03-25 03:14:28.241 +0000 [INFO] (pool-7-thread-2): Loaded file test_s3_key_prefix/f1988675-52bc-4da6-befe-474d7ff8712a (0.31 seconds for COPY)
2024-03-25 03:14:28.269 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:28.269 +0000 [INFO] (pool-8-thread-1): Uploading file id test_s3_key_prefix/99f570f6-88f1-4674-afea-147f3fc700f0 to S3 (20 bytes 0 rows)
2024-03-25 03:14:28.304 +0000 [INFO] (pool-8-thread-1): Uploaded file test_s3_key_prefix/99f570f6-88f1-4674-afea-147f3fc700f0 (0.04 seconds)
2024-03-25 03:14:28.322 +0000 [INFO] (pool-8-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:28.326 +0000 [INFO] (pool-8-thread-2): > 0.00 seconds
2024-03-25 03:14:28.329 +0000 [INFO] (pool-8-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:28.329 +0000 [INFO] (pool-8-thread-2): Running COPY from file test_s3_key_prefix/99f570f6-88f1-4674-afea-147f3fc700f0
2024-03-25 03:14:28.617 +0000 [INFO] (pool-8-thread-2): Loaded file test_s3_key_prefix/99f570f6-88f1-4674-afea-147f3fc700f0 (0.29 seconds for COPY)
2024-03-25 03:14:28.643 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:28.644 +0000 [INFO] (pool-9-thread-1): Uploading file id test_s3_key_prefix/4bbf53ea-164b-4a99-be1e-54bf9bd215c8 to S3 (20 bytes 0 rows)
2024-03-25 03:14:28.678 +0000 [INFO] (pool-9-thread-1): Uploaded file test_s3_key_prefix/4bbf53ea-164b-4a99-be1e-54bf9bd215c8 (0.03 seconds)
2024-03-25 03:14:28.696 +0000 [INFO] (pool-9-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:28.701 +0000 [INFO] (pool-9-thread-2): > 0.00 seconds
2024-03-25 03:14:28.704 +0000 [INFO] (pool-9-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:28.704 +0000 [INFO] (pool-9-thread-2): Running COPY from file test_s3_key_prefix/4bbf53ea-164b-4a99-be1e-54bf9bd215c8
2024-03-25 03:14:29.029 +0000 [INFO] (pool-9-thread-2): Loaded file test_s3_key_prefix/4bbf53ea-164b-4a99-be1e-54bf9bd215c8 (0.33 seconds for COPY)
2024-03-25 03:14:29.060 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:29.061 +0000 [INFO] (pool-10-thread-1): Uploading file id test_s3_key_prefix/4ac911fd-8c43-4782-88e0-7ea60b84c0b9 to S3 (20 bytes 0 rows)
2024-03-25 03:14:29.093 +0000 [INFO] (pool-10-thread-1): Uploaded file test_s3_key_prefix/4ac911fd-8c43-4782-88e0-7ea60b84c0b9 (0.03 seconds)
2024-03-25 03:14:29.112 +0000 [INFO] (pool-10-thread-2): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:29.116 +0000 [INFO] (pool-10-thread-2): > 0.00 seconds
2024-03-25 03:14:29.119 +0000 [INFO] (pool-10-thread-2): TransactionIsolation=serializable
2024-03-25 03:14:29.119 +0000 [INFO] (pool-10-thread-2): Running COPY from file test_s3_key_prefix/4ac911fd-8c43-4782-88e0-7ea60b84c0b9
2024-03-25 03:14:29.401 +0000 [INFO] (pool-10-thread-2): Loaded file test_s3_key_prefix/4ac911fd-8c43-4782-88e0-7ea60b84c0b9 (0.28 seconds for COPY)
2024-03-25 03:14:29.430 +0000 [INFO] (0016:task-0000): Loaded 1 files.
2024-03-25 03:14:29.440 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
2024-03-25 03:14:29.440 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=28800}
2024-03-25 03:14:29.524 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:29.528 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-25 03:14:29.531 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-25 03:14:29.532 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS "test_schema"."test_table"
2024-03-25 03:14:29.539 +0000 [INFO] (0001:transaction): > 0.01 seconds
2024-03-25 03:14:29.539 +0000 [INFO] (0001:transaction): SQL: ALTER TABLE "test_schema"."test_table_0000018e739a226e_embulk" RENAME TO "test_table"
2024-03-25 03:14:29.543 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-25 03:14:29.584 +0000 [WARN] (0001:transaction): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:29.584 +0000 [WARN] (0001:transaction): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:29.585 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:29.604 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:29.608 +0000 [INFO] (0001:transaction): > 0.00 seconds
2024-03-25 03:14:29.611 +0000 [INFO] (0001:transaction): TransactionIsolation=serializable
2024-03-25 03:14:29.611 +0000 [INFO] (0001:transaction): SQL: DROP TABLE IF EXISTS "test_schema"."test_table_0000018e739a226e_embulk"
2024-03-25 03:14:29.657 +0000 [INFO] (0001:transaction): > 0.05 seconds
2024-03-25 03:14:29.658 +0000 [INFO] (main): Committed.
2024-03-25 03:14:29.658 +0000 [INFO] (main): Next config diff: {"in":{"last_path":"test.jsonl"},"out":{}}
in:
  type: redshift
  host: test_host
  user: test_user
  password: '***'
  database: test_database
  column_options:
    test_timestamp: {type: string, timestamp_format: '%Y-%m-%d %H:%M:%S.%6N %z'}
    test_json: {type: json}
    test_json_text: {type: json}
    test_json_string: {type: json}
    test_json_nstring: {type: json}
  query: SELECT * FROM "test_schema"."test_table"
  fetch_rows: 1000
out:
  type: command
  command: 'cat -'
  formatter:
    type: jsonl
2024-03-25 03:14:29.901 +0000: Embulk v0.9.26
2024-03-25 03:14:30.498 +0000 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.
2024-03-25 03:14:31.828 +0000 [INFO] (main): Gem's home and path are set by default: "/home/ubuntu/.embulk/lib/gems"
2024-03-25 03:14:32.337 +0000 [INFO] (main): Started Embulk v0.9.26
2024-03-25 03:14:32.403 +0000 [INFO] (0001:transaction): Loaded plugin embulk-input-redshift (0.13.2)
2024-03-25 03:14:32.434 +0000 [INFO] (0001:transaction): Loaded plugin embulk-output-command (0.1.4)
2024-03-25 03:14:32.461 +0000 [WARN] (0001:transaction): "UTC" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:32.464 +0000 [INFO] (0001:transaction): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:32.510 +0000 [INFO] (0001:transaction): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:32.523 +0000 [INFO] (0001:transaction): Using JDBC Driver PostgreSQL 9.4 JDBC4.1 (build 1205)
2024-03-25 03:14:32.692 +0000 [INFO] (0001:transaction): Using local thread executor with max_threads=16 / output tasks 8 = input tasks 1 * 8
2024-03-25 03:14:32.718 +0000 [INFO] (0001:transaction): Loaded plugin embulk-formatter-jsonl (0.1.4)
2024-03-25 03:14:32.740 +0000 [INFO] (0001:transaction): {done:  0 / 1, running: 0}
2024-03-25 03:14:32.750 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.760 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.762 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.765 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.801 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.806 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.810 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.813 +0000 [INFO] (0016:task-0000): Using command [sh, -c, cat -]
2024-03-25 03:14:32.818 +0000 [WARN] (0016:task-0000): Z is deprecated as a military time zone name. Use UTC instead.
2024-03-25 03:14:32.818 +0000 [WARN] (0016:task-0000): "Z" is recognized as "Z" to be compatible with the legacy style.
2024-03-25 03:14:32.839 +0000 [INFO] (0016:task-0000): Connecting to jdbc:postgresql://test_host:5439/test_database options {user=test_user, password=***, tcpKeepAlive=true, loginTimeout=300, socketTimeout=1800}
2024-03-25 03:14:32.858 +0000 [INFO] (0016:task-0000): SQL: SET search_path TO "test_schema"
2024-03-25 03:14:32.864 +0000 [INFO] (0016:task-0000): SQL: DECLARE cur NO SCROLL CURSOR FOR SELECT * FROM "test_schema"."test_table"
2024-03-25 03:14:32.874 +0000 [INFO] (0016:task-0000): SQL: FETCH FORWARD 1000 FROM cur
2024-03-25 03:14:32.889 +0000 [INFO] (0016:task-0000): > 0.01 seconds
2024-03-25 03:14:32.900 +0000 [INFO] (0016:task-0000): SQL: FETCH FORWARD 1000 FROM cur
2024-03-25 03:14:32.903 +0000 [INFO] (0016:task-0000): > 0.00 seconds
{"test_boolean":true,"test_long":123,"test_double":1.23,"test_string":"あいうえお","test_timestamp":"1999-12-31 23:59:59.000000 +0000","test_json":{"キー":"値"},"test_json_text":{"キー":"値"},"test_json_string":{"キー":"値"},"test_json_nstring":{"キー":"値"}}
{"test_boolean":false,"test_long":456,"test_double":4.56,"test_string":"かきくけこ","test_timestamp":"2000-01-01 00:00:00.000000 +0000","test_json":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_text":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_string":[{"キー1":"値1"},{"キー2":"値2"}],"test_json_nstring":[{"キー1":"値1"},{"キー2":"値2"}]}
2024-03-25 03:14:32.945 +0000 [INFO] (0001:transaction): {done:  1 / 1, running: 0}
2024-03-25 03:14:32.950 +0000 [INFO] (main): Committed.
2024-03-25 03:14:32.950 +0000 [INFO] (main): Next config diff: {"in":{},"out":{}}
